# Inventory Allocation Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PRODUCT PAGE                                 â”‚
â”‚  User selects: Size = "2XL", Quantity = 7, Color = "Blue"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Two Button Options:                      â”‚
        â”‚   1. [Choose Fulfillment Option] (Blue)    â”‚
        â”‚   2. [Quick Add - Ship to Home] (Gray)     â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
             â”‚                                   â”‚
    Option 1 â”‚                          Option 2 â”‚
             â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FULFILLMENT OPTIONS COMPONENT â”‚   â”‚   Quick Add to Cart          â”‚
â”‚  (Product details hidden)      â”‚   â”‚   - Default: Ship to Home    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   - From warehouse only      â”‚
             â”‚                       â”‚   - Toast: "Added! Ship..."  â”‚
             â–¼                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Choose Method:                â”‚
â”‚  [ğŸ  Ship to Home]             â”‚
â”‚  [ğŸª Pick up at Store]         â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                  â”‚
      â”‚ Ship             â”‚ Pickup
      â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SHIP TO HOME ALLOCATION            â”‚   â”‚  PICK UP AT STORE FLOW              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Calculate Allocation:           â”‚   â”‚  1. Show Store List:                â”‚
â”‚     - Start with ONLINE-WH: 4 items â”‚   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     - Need 3 more                   â”‚   â”‚     â”‚ Saigon Q7 - 3 in stock   â”‚    â”‚
â”‚     - Get from Store HCM-Q7: 3      â”‚   â”‚     â”‚ Hanoi Central - 2 in... â”‚    â”‚
â”‚                                     â”‚   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  2. Show Breakdown:                 â”‚   â”‚                                     â”‚
â”‚     âœ“ 4 from Online Warehouse       â”‚   â”‚  2. User Selects: HCM-Q7            â”‚
â”‚     âœ“ 3 from Saigon District 7      â”‚   â”‚     Available: 3, Need: 4 more      â”‚
â”‚     âš ï¸ May arrive in 2 packages     â”‚   â”‚                                     â”‚
â”‚                                     â”‚   â”‚  3. Show 4 Options:                 â”‚
â”‚  3. [Confirm Shipping] Button       â”‚   â”‚     â¦¿ Pickup 3 + Ship 4 (Split)     â”‚
â”‚                                     â”‚   â”‚     â¦¿ Pickup 7 later (Transfer)     â”‚
â”‚     â†“ Click                         â”‚   â”‚       ETA: Fri Nov 14               â”‚
â”‚                                     â”‚   â”‚     â¦¿ Pickup 3 today (Reduce)       â”‚
â”‚  4. Add to Cart with:               â”‚   â”‚     â¦¿ Ship all 7 instead            â”‚
â”‚     {                               â”‚   â”‚                                     â”‚
â”‚       method: "ship",               â”‚   â”‚     â†“ User selects option           â”‚
â”‚       allocation: {                 â”‚   â”‚                                     â”‚
â”‚         items: [                    â”‚   â”‚  4. Add to Cart with:               â”‚
â”‚           {source: "warehouse",...} â”‚   â”‚     {                               â”‚
â”‚           {source: "store",...}     â”‚   â”‚       method: "pickup",             â”‚
â”‚         ]                           â”‚   â”‚       store: {...},                 â”‚
â”‚       }                             â”‚   â”‚       option: {id: "split",...}     â”‚
â”‚     }                               â”‚   â”‚     }                               â”‚
â”‚                                     â”‚   â”‚                                     â”‚
â”‚  5. Toast Notification:             â”‚   â”‚  5. Toast Notification:             â”‚
â”‚     "Ships from: Online Warehouse,  â”‚   â”‚     "Pickup 3 + Ship 4"             â”‚
â”‚      Saigon District 7"             â”‚   â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                           â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚   CART CONTEXT      â”‚
                   â”‚   Updated with:     â”‚
                   â”‚   - Product         â”‚
                   â”‚   - Quantity        â”‚
                   â”‚   - Size/Color      â”‚
                   â”‚   - Fulfillment     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜



â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        ALLOCATION ALGORITHMS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ALGORITHM 1: allocateForShipping(warehouse, stores)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Input:                                                              â”‚
â”‚    - warehouse = { branchCode: "ONLINE-WH", quantity: 4 }           â”‚
â”‚    - stores = [                                                      â”‚
â”‚        { branchCode: "HCM-Q7", quantity: 3 },                       â”‚
â”‚        { branchCode: "HN-CT", quantity: 2 }                         â”‚
â”‚      ]                                                               â”‚
â”‚    - requestedQty = 7                                                â”‚
â”‚                                                                      â”‚
â”‚  Process:                                                            â”‚
â”‚    Step 1: remaining = 7                                             â”‚
â”‚    Step 2: Allocate from warehouse: min(4, 7) = 4                   â”‚
â”‚            â†’ Add to result: {source: "warehouse", qty: 4}           â”‚
â”‚            â†’ remaining = 7 - 4 = 3                                   â”‚
â”‚                                                                      â”‚
â”‚    Step 3: Sort stores by qty DESC: [HCM-Q7(3), HN-CT(2)]          â”‚
â”‚                                                                      â”‚
â”‚    Step 4: Loop through stores:                                      â”‚
â”‚            Store HCM-Q7: min(3, 3) = 3                              â”‚
â”‚            â†’ Add to result: {source: "store", qty: 3, ...}          â”‚
â”‚            â†’ remaining = 3 - 3 = 0                                   â”‚
â”‚            STOP (remaining = 0)                                      â”‚
â”‚                                                                      â”‚
â”‚  Output:                                                             â”‚
â”‚    {                                                                 â”‚
â”‚      complete: true,                                                 â”‚
â”‚      totalAvailable: 9,                                              â”‚
â”‚      items: [                                                        â”‚
â”‚        {source: "warehouse", quantity: 4, ...},                     â”‚
â”‚        {source: "store", branchCode: "HCM-Q7", quantity: 3, ...}   â”‚
â”‚      ],                                                              â”‚
â”‚      needsTransfer: false                                            â”‚
â”‚    }                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ALGORITHM 2: allocateForPickup(store, warehouse)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Input:                                                              â”‚
â”‚    - store = { branchCode: "HCM-Q7", quantity: 3 }                  â”‚
â”‚    - warehouse = { branchCode: "ONLINE-WH", quantity: 10 }          â”‚
â”‚    - requestedQty = 7                                                â”‚
â”‚                                                                      â”‚
â”‚  Process:                                                            â”‚
â”‚    Step 1: shortage = 7 - 3 = 4                                      â”‚
â”‚                                                                      â”‚
â”‚    Step 2: Generate Option 1 (Split):                                â”‚
â”‚            IF shortage > 0 AND warehouse.qty > 0                     â”‚
â”‚            â†’ pickupQty = 3, shipQty = min(4, 10) = 4                â”‚
â”‚            â†’ available = (3 + 10 >= 7) = true âœ“                     â”‚
â”‚                                                                      â”‚
â”‚    Step 3: Generate Option 2 (Transfer):                             â”‚
â”‚            IF shortage > 0 AND warehouse.qty >= shortage             â”‚
â”‚            â†’ pickupQty = 7, shipQty = 0                              â”‚
â”‚            â†’ needsTransfer = true                                    â”‚
â”‚            â†’ eta = today + 3 days = "Fri Nov 14"                     â”‚
â”‚                                                                      â”‚
â”‚    Step 4: Generate Option 3 (Reduce):                               â”‚
â”‚            IF store.qty > 0                                          â”‚
â”‚            â†’ pickupQty = 3, shipQty = 0                              â”‚
â”‚                                                                      â”‚
â”‚    Step 5: Generate Option 4 (Ship All):                             â”‚
â”‚            IF warehouse.qty >= requestedQty                          â”‚
â”‚            â†’ pickupQty = 0, shipQty = 7                              â”‚
â”‚                                                                      â”‚
â”‚  Output:                                                             â”‚
â”‚    {                                                                 â”‚
â”‚      method: "pickup",                                               â”‚
â”‚      store: { name: "Saigon Q7", code: "HCM-Q7", ... },             â”‚
â”‚      available: 3,                                                   â”‚
â”‚      shortage: 4,                                                    â”‚
â”‚      choices: [                                                      â”‚
â”‚        {id: "split", pickupQty: 3, shipQty: 4, ...},                â”‚
â”‚        {id: "transfer", pickupQty: 7, eta: "2024-11-14", ...},      â”‚
â”‚        {id: "reduce", pickupQty: 3, shipQty: 0, ...},               â”‚
â”‚        {id: "ship-all", pickupQty: 0, shipQty: 7, ...}              â”‚
â”‚      ]                                                               â”‚
â”‚    }                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜



â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                           DATA FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend    â”‚
â”‚   API        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ GET /clothes/:id
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product Response:                                             â”‚
â”‚ {                                                             â”‚
â”‚   sizes: [                                                    â”‚
â”‚     {                                                         â”‚
â”‚       label: "2XL",                                           â”‚
â”‚       totalQuantity: 7,                                       â”‚
â”‚       branches: [                                             â”‚
â”‚         {branchCode: "ONLINE-WH", quantity: 4, isActive:...},â”‚
â”‚         {branchCode: "HCM-Q7", quantity: 3, isActive:...}    â”‚
â”‚       ]                                                       â”‚
â”‚     }                                                         â”‚
â”‚   ]                                                           â”‚
â”‚ }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  productPage.jsx     â”‚
                 â”‚  State:              â”‚
                 â”‚  - product           â”‚
                 â”‚  - selectedSize      â”‚
                 â”‚  - qty               â”‚
                 â”‚  - showFulfillment   â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ FulfillmentOptions   â”‚
                 â”‚ Props:               â”‚
                 â”‚  - product           â”‚
                 â”‚  - selectedSize      â”‚
                 â”‚  - requestedQty      â”‚
                 â”‚  - onSelect          â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                    â”‚
         â–¼                                    â–¼
  [calculateAllocation]              [User interactions]
         â”‚                                    â”‚
         â–¼                                    â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ allocation     â”‚              â”‚ fulfillmentMethod    â”‚
  â”‚ pickupOptions  â”‚              â”‚ selectedStore        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                 â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  onSelect callback   â”‚
              â”‚  â†’ productPage       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  addToCart(product,  â”‚
              â”‚    {fulfillment})    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   CartContext        â”‚
              â”‚   items: [           â”‚
              â”‚     {                â”‚
              â”‚       ...product,    â”‚
              â”‚       fulfillment    â”‚
              â”‚     }                â”‚
              â”‚   ]                  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   localStorage       â”‚
              â”‚   Server sync        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
